#!/bin/sh

set -e
: "${CXXFLAGS=-O3 -fPIC -Wall}"
. "`dirname "$0"`"/lolwutconf/configure.inc
conf_begin ${1+"$@"}
conf_mod c++
conf_cxx_probe_var_tpls
conf_cxx_probe_decltype
conf_cxx_chk_typ boost::mt19937_64 \
    '#include <boost/random/mersenne_twister.hpp>'
conf_cxx_probe_typ std::uint_least64_t '#include <cinttypes>'
conf_cxx_probe_typ ::uint_least64_t '#include <inttypes.h>'
conf_cxx_probe_endianness
conf_cxx_probe_typ 'struct bfd' '#include <bfd.h>'
conf_cxx_probe_lib bfd 'bfd-multiarch bfd' \
    '#include <bfd.h>' 'void foo() { bfd_openr("/dev/null", "binary"); }'
conf_end
